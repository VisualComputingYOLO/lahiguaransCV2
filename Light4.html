<!DOCTYPE HTML>
<html>
	<head>
		<title>Luis Alejandro Higuaran Serrano | :: Computación Visual ::</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />

		<!-- Code-Prettify -->
		<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.1/TweenLite.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.1/TimelineMax.min.js"></script>
		<script type="module" src="three/js/phongf.js"></script>

		<!-- Bootstrap CSS 
    	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">-->
	
		<!-- Favicon -->
		<link rel="icon" href="images/favicon.png" sizes="32x32" type="image/png">

	</head>
	<body class="subpage">
		<div id="page-wrapper">

			<!-- Header -->
				<section id="header">
					<div class="container">
						<div class="row">
							<div class="col-12">

								<!-- Logo -->
									<h1><a href="index.html" id="logo">VISUAL COMPUTING</a></h1>

								<!-- Nav -->
									<nav id="nav">
										<a href="index.html">INICIO</a>
										<a href="Example1.html">EXAMPLES P5.JS</a>
										<a href="Ilussion1.html">ILLUSION</a>
										<a href="Light1.html">LIGHT</a>
										<a href="Software1.html">SOFTWARE P5.JS</a>
										<a href="Hardware1.html">HARDWARE P5.JS</a>
									</nav>

							</div>
						</div>
					</div>
				</section>

			<!-- Content -->
				<section id="content">
					<div class="container">
						<div class="row">
							<div class="col-12">

								<!-- Main Content -->
									<section>
										<header>
											<h2><a href="https://es.wikipedia.org/wiki/Modelo_de_reflexi%C3%B3n_de_Phong" target="_blank">Phong Lighting Model</a></h2>
											<h3>LIGHTS -  THREE.JS</h3>
										</header>
										<p>
											En la siguiente publicación se vera el desarrollo de la 
											<a href="https://learnopengl.com/Lighting/Basic-Lighting" target="_blank">luz Phong</a>.
										</p>

										<p>
											<strong>El sombreado de Phong</strong> también puede referirse a la combinación específica de la interpolación
											de Phong y el modelo de reflexión de Phong , que es un modelo empírico de iluminación local.
											Describe la forma en que una superficie refleja la luz como una combinación del reflejo
											difuso de superficies rugosas con el reflejo especular de superficies brillantes. Se
											basa en la observación informal de Bui Tuong Phong de que las superficies brillantes
											tienen pequeños reflejos especulares intensos , mientras que las superficies opacas
											tienen grandes reflejos que caen más gradualmente. El modelo de reflexión también
											incluye un término ambiental para dar cuenta de la pequeña cantidad de luz que se dispersa
											por toda la escena.
										</p>

										<div class="text-center">
											<img src="images/Phong_components_version_4.png" style="height: 220px;vertical-align: middle"/>
										</div>

										<p>
											Ilustración visual de la ecuación de Phong: aquí la luz es blanca, los colores ambiental
											y difuso son azules y el color especular es blanco, reflejando una pequeña parte de la
											luz que incide en la superficie, pero solo en reflejos muy estrechos. La intensidad del
											componente difuso varía con la dirección de la superficie y el componente ambiental es
											uniforme (independiente de la dirección).
										</p>

										<p>
											<strong>Iluminación ambiental:</strong> incluso cuando está oscuro, suele haber algo de luz en algún
											 lugar del mundo (la luna, una luz distante), por lo que los objetos casi nunca 
											 están completamente oscuros. Para simular esto usamos una constante de iluminación 
											 ambiental que siempre le da al objeto algo de color.
										</p>

										<p>
											<strong>Iluminación difusa:</strong> simula el impacto direccional que tiene un objeto ligero sobre un objeto.
											Este es el componente visualmente más significativo del modelo de iluminación. Cuanto más
											una parte de un objeto mira hacia la fuente de luz, más brillante se vuelve.
										</p>

										<p>
											<strong>Iluminación espectacular:</strong> simula el punto brillante de una luz que aparece en objetos
											brillantes. Los reflejos especulares están más inclinados al color de la luz que al color del objeto.
										</p>

										<p>
											Agradecemos a
											<a href="https://observablehq.com/@camargo/three-js-utah-teapot-with-a-custom-phong-shader-material" target="_blank">Chris Camargo</a>
											por las bases para este trabajo.
										</p>

										<div id="canvasthreejs" >
											<div>
												<canvas id="cf" style="height: 500px; width: 100%;"></canvas>												
											</div>
										</div>
										<p></p>
										<h4>threejs Code (Fragment Shader)</h4>

										<pre>
											<code class="prettyprint">									
import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r122/build/three.module.js';
import {OrbitControls} from 'https://threejsfundamentals.org/threejs/resources/threejs/r122/examples/jsm/controls/OrbitControls.js';


function main() {
	const canvas = document.querySelector('#cf');
	const renderer = new THREE.WebGLRenderer({canvas});

	const fov = 45;
	const aspect = 2;  // the canvas default
	const near = 0.1;
	const far = 100;
	const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
	camera.position.set(0, 10, 20);

	const controls = new OrbitControls(camera, canvas);
	controls.target.set(0, 5, 0);
	controls.update();

	const scene = new THREE.Scene();
	scene.background = new THREE.Color('black');

	const fragmentShader = `
	varying vec3 Normal;
	varying vec3 Position;

	uniform vec3 Ka;
	uniform vec3 Kd;
	uniform vec3 Ks;
	uniform vec4 LightPosition;
	uniform vec3 LightIntensity;
	uniform float Shininess;

	vec3 phong() {
		vec3 n = normalize(Normal);
		vec3 s = normalize(vec3(LightPosition) - Position);
		vec3 v = normalize(vec3(-Position));
		vec3 r = reflect(-s, n);

		vec3 ambient = Ka;
		vec3 diffuse = Kd * max(dot(s, n), 0.0);
		vec3 specular = Ks * pow(max(dot(r, v), 0.0), Shininess);

		return LightIntensity * (ambient + diffuse + specular);
	}

	void main() {
		gl_FragColor = vec4(phong(), 1.0);
	}
	`;

	const vertexShader = `
	varying vec3 Normal;
	varying vec3 Position;

	void main() {
		Normal = normalize(normalMatrix * normal);
		Position = vec3(modelViewMatrix * vec4(position, 1.0));
		gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
	}
	`;

	const loaderf = new THREE.TextureLoader();
	const texturef = loaderf.load('https://threejsfundamentals.org/threejs/resources/images/bayer.png');
	texturef.minFilter = THREE.NearestFilter;
	texturef.magFilter = THREE.NearestFilter;
	texturef.wrapS = THREE.RepeatWrapping;
	texturef.wrapT = THREE.RepeatWrapping;
	const uniforms = {
		Ka: { value: new THREE.Vector3(1.0, 0.5, 0.5) },
		Kd: { value: new THREE.Vector3(1.0, 0.5, 0.5) },
		Ks: { value: new THREE.Vector3(0.9, 1.0, 1.0) },
		LightIntensity: { value: new THREE.Vector4(0.5, 0.5, 0.5, 1.0) },
		LightPosition: { value: new THREE.Vector4(0.0, 50.0, 0.0, 1.0) },
		Shininess: { value: 200.0 }
	};
	const material = new THREE.ShaderMaterial({
	vertexShader,
	fragmentShader,
	uniforms
	});

	{
	const planeSize = 40;

	const loader = new THREE.TextureLoader();
	const texture = loader.load('https://threejsfundamentals.org/threejs/resources/images/checker.png');
	texture.wrapS = THREE.RepeatWrapping;
	texture.wrapT = THREE.RepeatWrapping;
	texture.magFilter = THREE.NearestFilter;
	const repeats = planeSize / 2;
	texture.repeat.set(repeats, repeats);

	const planeGeo = new THREE.PlaneBufferGeometry(planeSize, planeSize);
	const planeMat = new THREE.MeshPhongMaterial({
		map: texture,
		side: THREE.DoubleSide,
	});
	const mesh = new THREE.Mesh(planeGeo, planeMat);
	mesh.rotation.x = Math.PI * -.5;
	scene.add(mesh);
	}
	{
	const cubeSize = 4;
	const cubeGeo = new THREE.BoxBufferGeometry(cubeSize, cubeSize, cubeSize);
	const mesh = new THREE.Mesh(cubeGeo, material);
	mesh.position.set(cubeSize + 1, cubeSize / 2, 0);
	scene.add(mesh);
	}
	{
	const sphereRadius = 3;
	const sphereWidthDivisions = 32;
	const sphereHeightDivisions = 16;
	const sphereGeo = new THREE.SphereBufferGeometry(sphereRadius, sphereWidthDivisions, sphereHeightDivisions);
	const mesh = new THREE.Mesh(sphereGeo, material);
	mesh.position.set(-sphereRadius - 1, sphereRadius + 2, 0);
	scene.add(mesh);
	}

	{
	const color = 0xFFFFFF;
	const intensity = 1;
	const light = new THREE.AmbientLight(color, intensity);
	scene.add(light);
	}

	function resizeRendererToDisplaySize(renderer) {
	const canvas = renderer.domElement;
	const width = canvas.clientWidth;
	const height = canvas.clientHeight;
	const needResize = canvas.width !== width || canvas.height !== height;
	if (needResize) {
		renderer.setSize(width, height, false);
	}
	return needResize;
	}

	function render() {

	if (resizeRendererToDisplaySize(renderer)) {
		const canvas = renderer.domElement;
		camera.aspect = canvas.clientWidth / canvas.clientHeight;
		camera.updateProjectionMatrix();
	}

	renderer.render(scene, camera);

	requestAnimationFrame(render);
	}

	requestAnimationFrame(render);
}

main();
											</code>
										</pre>
										<!-- Pagination -->
										<div class="pagination">
											<a href="Light3.html" class="button-large">Previous Page</a>
											<a href="Light5.html" target="_parent" class="button-large">Next Page</a>
										</div>
									</section>
							</div>
						</div>
					</div>
				</section>

			<!-- Footer -->
				<section id="footer">
					<div class="container">
						<div class="row">
							<div class="col-8 col-12-medium">

								<!-- Links -->
									
									<section>
										<!--
										<h2>Links to Important Stuff</h2>
										<div>
											<div class="row">
												<div class="col-3 col-12-small">
													<ul class="link-list last-child">
														<li><a href="#">Neque amet dapibus</a></li>
														<li><a href="#">Sed mattis quis rutrum</a></li>
														<li><a href="#">Accumsan suspendisse</a></li>
														<li><a href="#">Eu varius vitae magna</a></li>
													</ul>
												</div>
												<div class="col-3 col-12-small">
													<ul class="link-list last-child">
														<li><a href="#">Neque amet dapibus</a></li>
														<li><a href="#">Sed mattis quis rutrum</a></li>
														<li><a href="#">Accumsan suspendisse</a></li>
														<li><a href="#">Eu varius vitae magna</a></li>
													</ul>
												</div>
												<div class="col-3 col-12-small">
													<ul class="link-list last-child">
														<li><a href="#">Neque amet dapibus</a></li>
														<li><a href="#">Sed mattis quis rutrum</a></li>
														<li><a href="#">Accumsan suspendisse</a></li>
														<li><a href="#">Eu varius vitae magna</a></li>
													</ul>
												</div>
												<div class="col-3 col-12-small">
													<ul class="link-list last-child">
														<li><a href="#">Neque amet dapibus</a></li>
														<li><a href="#">Sed mattis quis rutrum</a></li>
														<li><a href="#">Accumsan suspendisse</a></li>
														<li><a href="#">Eu varius vitae magna</a></li>
													</ul>
												</div>
											</div>
										</div>
										-->
									</section>

							</div>
							<div class="col-4 col-12-medium imp-medium">

								<!-- Blurb -->
									<section>
										<!--
										<h2>An Informative Text Blurb</h2>
										<p>
											Duis neque nisi, dapibus sed mattis quis, rutrum accumsan sed. Suspendisse eu
											varius nibh. Suspendisse vitae magna eget odio amet mollis. Duis neque nisi,
											dapibus sed mattis quis, sed rutrum accumsan sed. Suspendisse eu varius nibh
											lorem ipsum amet dolor sit amet lorem ipsum consequat gravida justo mollis.
										</p>
										-->
									</section>

							</div>
						</div>
					</div>
				</section>

			<!-- Copyright -->
				<div id="copyright">
					&copy; Untitled. All rights reserved. | Design: <a href="http://html5up.net">HTML5 UP</a>
				</div>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>