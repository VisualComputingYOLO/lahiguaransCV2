<!DOCTYPE HTML>
<html>
	<head>
		<title>Luis Alejandro Higuaran Serrano | :: Computación Visual ::</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />

		<!-- Code-Prettify -->
		<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.1/TweenLite.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.1/TimelineMax.min.js"></script>
		<script type="module" src="three/js/fog.js"></script>

		<!-- Bootstrap CSS 
    	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">-->
	
		<!-- Favicon -->
		<link rel="icon" href="images/favicon.png" sizes="32x32" type="image/png">

	</head>
	<body class="subpage">
		<div id="page-wrapper">

			<!-- Header -->
				<section id="header">
					<div class="container">
						<div class="row">
							<div class="col-12">

								<!-- Logo -->
									<h1><a href="index.html" id="logo">VISUAL COMPUTING</a></h1>

								<!-- Nav -->
									<nav id="nav">
										<a href="index.html">INICIO</a>
										<a href="Example1.html">EXAMPLES P5</a>
										<a href="Ilussion1.html">ILLUSION P5</a>
										<a href="Light1.html">LIGHT THREE</a>
										<a href="Software1.html">SOFTWARE P5</a>
										<a href="Hardware1.html">HARDWARE GLSL</a>
										<a href="project1.html">PROJECT GLSL/TL</a>
									</nav>

							</div>
						</div>
					</div>
				</section>

			<!-- Content -->
				<section id="content">
					<div class="container">
						<div class="row">
							<div class="col-12">

								<!-- Main Content -->
									<section>
										<header>
											<h2><a href="https://en.wikipedia.org/wiki/Fog" target="_blank">FOG</a></h2>
											<h3>LIGHTS -  THREE.JS</h3>
										</header>
										<p>
											En la siguiente publicación se vera el desarrollo de la 
											<a href="https://threejs.org/docs/index.html#api/en/scenes/Fog" target="_blank">Niebla</a>.
										</p>

										<p>
											La niebla en un motor 3D es generalmente una forma de desvanecerse a un color específico
											según la distancia desde la cámara. En three.js agrega niebla mediante la creación
											<strong>Fog</strong> o el <strong>FogExp2</strong> objeto y colocarlo en la escena de fog la propiedad.
											
										</p>
										<p>
											Fog le permite elegir las configuraciones de <strong>near</strong> y <strong>far</strong>
											las cuáles son las distancias de la cámara. Todo lo que esté mas cerca de
											<strong>near</strong> no se ve afectado por la niebla. Cualquier cosa más allá de <strong>far</strong>
											es completamente el color de la niebla. Las partes intermedias entre <strong>near</strong> y
											<strong>far</strong> se desvanecen de su color material al color de la niebla.
										</p>

										<p>
											Una luz que se emite desde un solo punto en todas las direcciones.
											Un caso de uso común para esto es replicar la luz emitida por una
											bombilla desnuda.
										</p>

										<p>
											Agradecemos a
											<a href="https://threejsfundamentals.org/" target="_blank">Greggman</a>
											por las bases para este trabajo.
										</p>

										<div id="canvasthreejs" >
											<div>
												<canvas id="c" style="height: 500px; width: 100%;"></canvas>												
											</div>
										</div>
										<p></p>
										<h4>threejs Code</h4>

										<pre>
											<code class="prettyprint">									
import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r122/build/three.module.js';
import {GUI} from 'https://threejsfundamentals.org/threejs/../3rdparty/dat.gui.module.js';

function main() {
	const canvas = document.querySelector('#c');
	const renderer = new THREE.WebGLRenderer({canvas});
	const gui = new GUI();

	const fov = 75;
	const aspect = 2;  // the canvas default
	const near = 0.1;
	const far = 5;
	const camera = new THREE.PerspectiveCamera(fov, aspect, near, far);
	camera.position.z = 2;

	const scene = new THREE.Scene();

	// We use this class to pass to dat.gui
	// so when it manipulates near or far
	// near is never > far and far is never < near
	// Also when dat.gui maniplates color we'll
	// update both the fog and background colors.
	class FogGUIHelper {
	constructor(fog, backgroundColor) {
		this.fog = fog;
		this.backgroundColor = backgroundColor;
	}
	get near() {
		return this.fog.near;
	}
	set near(v) {
		this.fog.near = v;
		this.fog.far = Math.max(this.fog.far, v);
	}
	get far() {
		return this.fog.far;
	}
	set far(v) {
		this.fog.far = v;
		this.fog.near = Math.min(this.fog.near, v);
	}
	get color() {
		return `#${this.fog.color.getHexString()}`;
	}
	set color(hexString) {
		this.fog.color.set(hexString);
		this.backgroundColor.set(hexString);
	}
	}

	{
	const near = 1;
	const far = 2;
	const color = 'lightblue';
	scene.fog = new THREE.Fog(color, near, far);
	scene.background = new THREE.Color(color);

	const fogGUIHelper = new FogGUIHelper(scene.fog, scene.background);
	gui.add(fogGUIHelper, 'near', near, far).listen();
	gui.add(fogGUIHelper, 'far', near, far).listen();
	gui.addColor(fogGUIHelper, 'color');
	}

	{
	const color = 0xFFFFFF;
	const intensity = 1;
	const light = new THREE.DirectionalLight(color, intensity);
	light.position.set(-1, 2, 4);
	scene.add(light);
	}

	const boxWidth = 1;
	const boxHeight = 1;
	const boxDepth = 1;
	const geometry = new THREE.BoxGeometry(boxWidth, boxHeight, boxDepth);

	function makeInstance(geometry, color, x) {
	const material = new THREE.MeshPhongMaterial({color});

	const cube = new THREE.Mesh(geometry, material);
	scene.add(cube);

	cube.position.x = x;

	return cube;
	}

	const cubes = [
	makeInstance(geometry, 0x44aa88,  0),
	makeInstance(geometry, 0x8844aa, -2),
	makeInstance(geometry, 0xaa8844,  2),
	];

	function resizeRendererToDisplaySize(renderer) {
	const canvas = renderer.domElement;
	const width = canvas.clientWidth;
	const height = canvas.clientHeight;
	const needResize = canvas.width !== width || canvas.height !== height;
	if (needResize) {
		renderer.setSize(width, height, false);
	}
	return needResize;
	}

	function render(time) {
	time *= 0.0003;

	if (resizeRendererToDisplaySize(renderer)) {
		const canvas = renderer.domElement;
		camera.aspect = canvas.clientWidth / canvas.clientHeight;
		camera.updateProjectionMatrix();
	}

	cubes.forEach((cube, ndx) => {
		const speed = 1 + ndx * .1;
		const rot = time * speed;
		cube.rotation.x = rot;
		cube.rotation.y = rot;
	});

	renderer.render(scene, camera);

	requestAnimationFrame(render);
	}

	requestAnimationFrame(render);
}

main();
											</code>
										</pre>
										<!-- Pagination -->
										<div class="pagination">
											<a href="Light2.html" class="button-large">Previous Page</a>
											<a href="Light4.html" target="_parent" class="button-large">Next Page</a>
										</div>
									</section>
							</div>
						</div>
					</div>
				</section>

			<!-- Footer -->
				<section id="footer">
					<div class="container">
						<div class="row">
							<div class="col-8 col-12-medium">

								<!-- Links -->
									
									<section>
										<!--
										<h2>Links to Important Stuff</h2>
										<div>
											<div class="row">
												<div class="col-3 col-12-small">
													<ul class="link-list last-child">
														<li><a href="#">Neque amet dapibus</a></li>
														<li><a href="#">Sed mattis quis rutrum</a></li>
														<li><a href="#">Accumsan suspendisse</a></li>
														<li><a href="#">Eu varius vitae magna</a></li>
													</ul>
												</div>
												<div class="col-3 col-12-small">
													<ul class="link-list last-child">
														<li><a href="#">Neque amet dapibus</a></li>
														<li><a href="#">Sed mattis quis rutrum</a></li>
														<li><a href="#">Accumsan suspendisse</a></li>
														<li><a href="#">Eu varius vitae magna</a></li>
													</ul>
												</div>
												<div class="col-3 col-12-small">
													<ul class="link-list last-child">
														<li><a href="#">Neque amet dapibus</a></li>
														<li><a href="#">Sed mattis quis rutrum</a></li>
														<li><a href="#">Accumsan suspendisse</a></li>
														<li><a href="#">Eu varius vitae magna</a></li>
													</ul>
												</div>
												<div class="col-3 col-12-small">
													<ul class="link-list last-child">
														<li><a href="#">Neque amet dapibus</a></li>
														<li><a href="#">Sed mattis quis rutrum</a></li>
														<li><a href="#">Accumsan suspendisse</a></li>
														<li><a href="#">Eu varius vitae magna</a></li>
													</ul>
												</div>
											</div>
										</div>
										-->
									</section>

							</div>
							<div class="col-4 col-12-medium imp-medium">

								<!-- Blurb -->
									<section>
										<!--
										<h2>An Informative Text Blurb</h2>
										<p>
											Duis neque nisi, dapibus sed mattis quis, rutrum accumsan sed. Suspendisse eu
											varius nibh. Suspendisse vitae magna eget odio amet mollis. Duis neque nisi,
											dapibus sed mattis quis, sed rutrum accumsan sed. Suspendisse eu varius nibh
											lorem ipsum amet dolor sit amet lorem ipsum consequat gravida justo mollis.
										</p>
										-->
									</section>

							</div>
						</div>
					</div>
				</section>

			<!-- Copyright -->
				<div id="copyright">
					&copy; Untitled. All rights reserved. | Design: <a href="http://html5up.net">HTML5 UP</a>
				</div>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>